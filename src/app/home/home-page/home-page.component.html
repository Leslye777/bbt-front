<div class="page">
  <!-- Menu lateral -->
  <div class="sidebar" [class.collapsed]="isCollapsed">
    <button class="toggle-button" (click)="toggleSidebar()">
      <i class="material-icons">
        {{ isCollapsed ? 'chevron_right' : 'chevron_left' }}
      </i>
    </button>
    <ul>
      <li>
        <a class="menu__item" routerLink="/home">
          <i class="material-icons">home</i> <span *ngIf="!isCollapsed">Serviços</span>
        </a>
      </li>
      <li>
        <a class="menu__item" href="https://gestordefontes.segurosunimed.com.br/bilhetagem">
          <i class="material-icons">shield</i> <span *ngIf="!isCollapsed">Bilhetagem</span>
        </a>
      </li>
      <li>
        <a class="menu__item" routerLink="/clientes">
          <i class="material-icons">people</i> <span *ngIf="!isCollapsed">Monitoria</span>
        </a>
      </li>
      <li>
        <a class="menu__item" routerLink="home/relatorio">
          <i class="material-icons">bar_chart</i> <span *ngIf="!isCollapsed">Configurações</span>
        </a>
      </li>
       <li>
        <a class="menu__item" href="/login" (click)="exit()">
          <i class="material-icons">exit_to_app</i> <span *ngIf="!isCollapsed">Informações</span>
        </a>
      </li>
      <li>
        <a class="menu__item" href="/login" (click)="exit()">
          <i class="material-icons">exit_to_app</i> <span *ngIf="!isCollapsed">Sair</span>
        </a>
      </li>
    </ul>
  </div>

  <!-- Conteúdo principal -->
  <div class="content">
          <!-- Seção de Notícias e Atualizações -->
          <div class="news-section">
            <h2 class="section-title">Notícias e Atualizações</h2>
            <hr class="section-divider" />
            <div class="carousel-wrapper">
              <button class="carousel-btn left" (click)="prevImage()" aria-label="Anterior">&lt;</button>
              <div class="carousel-news">
                <div class="carousel-news-item"
                     *ngFor="let img of images; let i = index"
                     [class.active]="i === currentIndex">
                  <div class="news-card">
                    <img [src]="img" alt="Imagem {{ i + 1 }}">
                  </div>
                </div>
              </div>
              <button class="carousel-btn right" (click)="nextImage()" aria-label="Próximo">&gt;</button>
            </div>
          </div>
    <!-- Acordeão manual -->
    <div class="accordion">
      <!-- Seção de Consultas -->
      <div class="accordion-item">
        <div class="accordion-header" (click)="toggleSection('consultas')">
          <h2 class="section-title">Serviços disponíveis</h2>
        </div>
        <div class="accordion-body" [class.hidden]="!sections['consultas']">
          <hr class="section-divider" />
          <div class="cards-container">
            <app-card
              title="Consulta PEP"
              subtitle="Consulta de Pessoas Expostas Politicamente"
              description="Verifique se o cliente é uma pessoa exposta politicamente."
              icon="search"
              [details]="['Consultas realizadas: 120', 'Última consulta: 15/04/2025']"
              (actionClick)="openModal('consulta-pep', 'Consulta PEP')">
            </app-card>
            <app-card
              title="Consulta Neoway Renda"
              subtitle="Estimativa de Renda"
              description="Obtenha informações sobre a estimativa de renda do cliente."
              icon="attach_money"
              [details]="['Consultas realizadas: 80', 'Última consulta: 14/04/2025']"
              (actionClick)="openModal('neoway-renda', 'Consulta Neoway Renda')">
            </app-card>
            <app-card
              title="Consulta Boa Vista"
              subtitle="Informações de Crédito"
              description="Acesse informações de crédito do cliente."
              icon="credit_score"
              [details]="['Consultas realizadas: 200', 'Última consulta: 13/04/2025']"
              (actionClick)="openModal('boa-vista', 'Consulta Boa Vista')">
            </app-card>
            <app-card
              title="Consulta Boa Vista Score"
              subtitle="Pontuação de Crédito"
              description="Verifique a pontuação de crédito do cliente."
              icon="bar_chart"
              [details]="['Consultas realizadas: 150', 'Última consulta: 12/04/2025']"
              (actionClick)="openModal('boa-vista-score', 'Consulta Boa Vista Score')">
            </app-card>
            <app-card
              title="Análises Especiais"
              subtitle="Análise Avançada"
              description="Realize análises especiais para casos específicos."
              icon="analytics"
              [details]="['Consultas realizadas: 50', 'Última consulta: 11/04/2025']"
              (actionClick)="openModal('analises-especiais', 'Análises Especiais')">
            </app-card>
            <app-card
              title="Trabalho Escravo"
              subtitle="Verificação de Trabalho Escravo"
              description="Verifique se há indícios de trabalho escravo associados ao cliente."
              icon="gavel"
              [details]="['Consultas realizadas: 30', 'Última consulta: 10/04/2025']"
              (actionClick)="openModal('trabalho-escravo', 'Trabalho Escravo')">
            </app-card>
            <app-card
              title="Consulta ONU"
              subtitle="Lista de Sanções da ONU"
              description="Verifique se o cliente está listado em sanções da ONU."
              icon="public"
              [details]="['Consultas realizadas: 20', 'Última consulta: 09/04/2025']"
              (actionClick)="openModal('consulta-onu', 'Consulta ONU')">
            </app-card>
            <app-card
              title="Consulta Neoway Cadastral"
              subtitle="Consulta de Informações Cadastrais"
              description="Realize consultas cadastrais detalhadas com base no CPF ou CNPJ."
              icon="assignment"
              [details]="['Última consulta: 10/04/2025']"
              (actionClick)="openModal('neoway-cadastral', 'Consulta Neoway Cadastral')">
            </app-card>
          </div>
        </div>
      </div>

      <!-- Seção de Auditoria -->
      <div class="accordion-item">
        <div class="accordion-header" (click)="toggleSection('auditoria')">
          <h2 class="section-title">Auditoria</h2>
        </div>
        <div class="accordion-body" [class.hidden]="!sections['auditoria']">
          <hr class="section-divider" />
          <div class="cards-container">
            <app-card
              title="Relatórios"
              subtitle="Desempenho e análises"
              description="Acesse relatórios detalhados sobre o desempenho das áreas."
              icon="bar_chart"
              [details]="['Relatórios disponíveis: 8', 'Última geração: 09/04/2025']"
              (actionClick)="openModal('relatorios', 'relatorios')">
            </app-card>
            <app-card
              title="Histórico de Consultas"
              subtitle="Acompanhe suas buscas"
              description="Visualize o histórico completo de consultas realizadas no sistema."
              icon="history"
              [details]="['Consultas no mês: 50', 'Total de consultas: 1.200']"
              (actionClick)="openModal('historico-consultas', 'relatorios')">
            </app-card>
          </div>
        </div>
      </div>

      <!-- Seção de Solicitações -->
      <div class="accordion-item">
        <div class="accordion-header" (click)="toggleSection('solicitacoes')">
          <h2 class="section-title">Solicitações</h2>
        </div>
        <div class="accordion-body" [class.hidden]="!sections['solicitacoes']">
          <hr class="section-divider" />
          <div class="cards-container">
            <app-card
              title="Inclusão de Regras"
              subtitle="Solicitação de Regras"
              description="Solicite a inclusão de novas regras no sistema."
              icon="rule"
              [details]="['Solicitações pendentes: 5', 'Última solicitação: 10/04/2025']"
              (actionClick)="openModal('inclusao-regras', 'relatorios')">
            </app-card>
            <app-card
              title="Solicitação de Enriquecimento"
              subtitle="Solicitação de Dados"
              description="Solicite o enriquecimento de dados para análises."
              icon="add_circle"
              [details]="['Solicitações realizadas: 10', 'Última solicitação: 09/04/2025']"
              (actionClick)="openModal('solicitacao-enriquecimento', 'relatorios')">
            </app-card>
          </div>
        </div>
      </div>

    </div>
  </div>
  <div *ngIf="showModal">
    <app-generic-modal
      [modalType]="modalType"
      [modalTitle]="modalTitle"
      (close)="closeModal()">
    </app-generic-modal>
  </div>

</div>

